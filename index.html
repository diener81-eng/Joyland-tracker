<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Joyland Tracker</title>

  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #0f0f0f;
      color: #fff;
      text-align: center;
      padding: 1rem;
    }

    h2 {
      margin-bottom: 0.3rem;
    }

    .desc {
      font-size: 0.95rem;
      color: #ccc;
      margin-bottom: 1rem;
      max-width: 520px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.4;
    }

    .buttons button {
      margin: 0.25rem;
      padding: 0.6rem 0.9rem;
      font-size: 0.9rem;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }

    .tiny { background:#555; color:#fff; }
    .cross { background:#16a085; color:#000; }
    .axe { background:#c0392b; color:#fff; }
    .card { background:#8e44ad; color:#fff; }
    .bonus { background:#f39c12; color:#000; }
    .fate { background:#2980b9; color:#fff; }

    .status {
      margin-top: 0.8rem;
      font-weight: bold;
      white-space: pre-line;
    }

    .alert {
      margin-top: 0.6rem;
      color: #ff5555;
      font-weight: bold;
    }

    .timeline {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: 8px;
      margin-top: 10px;
    }

    .cell {
      background:#2a2a2a;
      padding: 6px 0;
      border-radius: 6px;
      font-size: 0.75rem;
    }

    .cell small {
      display:block;
      opacity:0.6;
    }

    .axeCell {
      background:#c0392b;
      outline: 2px solid #fff;
    }

    .cardCell {
      background:#8e44ad;
      outline: 2px solid #fff;
    }

    .history {
      margin-top: 1rem;
      font-size: 0.85rem;
      color:#bbb;
      text-align:left;
      max-width:300px;
      margin-left:auto;
      margin-right:auto;
    }
  </style>
</head>

<body>

<h2>Joyland Tracker</h2>

<div class="desc">
  Tap each event as it appears in Joyland.<br>
  You will be warned when to use <b>50Ã— compass</b>.<br>
  Axe Ricochet â†’ always 50Ã—<br>
  Treasure Hunt â†’ 50Ã— only if you need gold
</div>

<div class="buttons">
  <button class="tiny" onclick="tap('T')">Tiny</button>
  <button class="cross" onclick="tap('C')">Crossroads</button>
  <button class="axe" onclick="tap('A')">Axe Ricochet</button>
  <button class="card" onclick="tap('R')">Treasure Hunt</button>
  <button class="bonus" onclick="tap('B')">Bonus</button>
  <button class="fate" onclick="tap('F')">Fate</button>
</div>

<div class="status" id="status"></div>
<div class="alert" id="alert"></div>

<div class="timeline" id="timelineTop"></div>
<div class="timeline" id="timelineBottom"></div>

<div class="history" id="history"></div>

<script>
const sequences = {
  1: ["T","T","C"],
  2: ["T","T","A"],
  3: ["T","T","C"],
  4: ["T","T","R"]
};

const fullSequence = [
  "T","T","C","B","A","F",
  "T","T","R","B","A","F"
];

const names = {
  T:"Tiny",
  C:"Crossroads",
  A:"Axe Ricochet",
  R:"Treasure Hunt",
  B:"Bonus",
  F:"Fate"
};

let history = [];
let move = 0;

function tap(letter) {
  history.push(names[letter]);
  move++;

  if (move > 12) {
    history = [];
    move = 1;
  }

  render(letter);
}

function render(last) {
  const status = document.getElementById("status");
  const alert = document.getElementById("alert");
  const top = document.getElementById("timelineTop");
  const bottom = document.getElementById("timelineBottom");
  const historyBox = document.getElementById("history");

  status.textContent = `Move ${move}`;
  alert.textContent = "";

  if (last === "A") {
    alert.textContent = "ðŸš¨ USE 50Ã— NOW (Axe Ricochet)";
  }
  if (last === "R") {
    alert.textContent = "âš ï¸ USE 50Ã— ONLY IF YOU NEED GOLD";
  }

  top.innerHTML = "";
  bottom.innerHTML = "";

  fullSequence.forEach((m, i) => {
    const cell = document.createElement("div");
    cell.className = "cell";

    let label = m;
    if (label === "A" || label === "C") label = `<b>${label}</b>`;

    cell.innerHTML = `<small>${i+1}</small>${label}`;

    if (m === "A") cell.classList.add("axeCell");
    if (m === "R") cell.classList.add("cardCell");

    if (i < 6) top.appendChild(cell);
    else bottom.appendChild(cell);
  });

  historyBox.innerHTML = history
    .map((e,i)=>`${i+1}. ${e}`)
    .join("<br>");
}
</script>

</body>
</html>
